{% extends 'basic.html' %}

{% block contact %} active {% endblock %}

{% block title %}
Contact

{% endblock %}

{% block css %}
.navbar{
padding-top: 0.1rem;
padding-bottom: .1rem;
}
{ % endblock %}


{% block body %}
<!--  form for contact  -->

<div class="container my-3">

  <div class="alert alert-success" role="alert">
    <h4 class="alert-heading  wow animate__animated animate__fadeInUp animate__slow	2s  " id="show-message">Lets
      talk....ğŸ˜ƒ</h4>

  </div>
  <form action="/contact" method="post" id="usermsg">{% csrf_token %}
    <div class="form-group  wow animate__animated animate__fadeInUp animate__slow	2s">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" name='name' placeholder="Enter Your Name">
    </div>
    <div class="form-group wow animate__animated animate__fadeInUp animate__slow	2s">
      <label for="name">Email</label>
      <input type="email" class="form-control" id="email" name='email' placeholder="Enter Your Email">
    </div>

    <div class="form-group wow animate__animated animate__fadeInUp animate__slow	2s">
      <label for="name">Phone</label>
      <input type="tel" class="form-control" id="phone" name='phone' placeholder="Enter Your Phone Number">
    </div>


    <div class="form-group wow animate__animated animate__fadeInUp animate__slow	2s">
      <label for="desc">What is your message ...</label>
      <textarea class="form-control" id="desc" name='desc' rows="3"></textarea>
    </div>
    <button type="submit" class="btn btn-success " id="send message" style="margin:10px " onclick="message()"><span id="msg"> Send message</span>
     </button>
  </form>

  {% endblock %}


  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"></script>

  <!-- Option 2: Separate Popper and Bootstrap JS -->
  <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
    -->

  {% block js %}

  function message(){

    

  var name = document.getElementById('name').value;
  var email = document.getElementById('email').value;
  var phone = document.getElementById('phone').value;
  var desc = document.getElementById('desc').value;

 


  console.log(name,email,phone,desc);
  if (name=='')
  alert("please provide Name...!ğŸ˜ğŸ˜")
  else if (email=='')
  alert(" Please provide email id...!ğŸ“§")
  else if ( phone=='')
  alert(" please provide phone Number...!ğŸ“±")

  else if (desc=='')
  alert("plz say something Message cannot be empty...!ğŸ˜Š")

  else

  
  <!-- jquery to show message on submit  -->

  $ (function (){
  $("#show-message").html(" Message Recievd âœ… I will get in touch ASAP...!ğŸ˜€")

  $("#msg").html(" Message Recievd ")
 
  
  })

  }

  
  <!-- this code is for submitting data without refreshing the page ..  -->

    $(document).on('submit','#usermsg',function (e){
      e.preventDefault();
              


      $.ajax({
        type:'POST',
        url:'/contact',
        data:{
          name:$('#name').val(),
          email:$('#email').val(),
          phone:$('#phone').val(),
          desc:$('#desc').val(),
          'csrfmiddlewaretoken': $('input[name=csrfmiddlewaretoken]').val()

        },
      })

      <!-- jquery to clear fields  -->
      $('#name').val('');
     $('#email').val('');
     $('#phone').val('');
     $('#desc').val('');
  

    })
    
  
  
  
 

  {% endblock %}
  {% endblock %}